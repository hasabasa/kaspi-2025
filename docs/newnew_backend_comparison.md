# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –±—ç–∫–µ–Ω–¥–æ–≤: `newnew/` vs `unified-backend/`

## üìã –û–±–∑–æ—Ä

### `newnew/` ‚Äî –ü—Ä–æ—Å—Ç–æ–π –±—ç–∫–µ–Ω–¥
- **–†–∞–∑–º–µ—Ä**: 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–∞ (main.py, kaspi_auth.py, supabase_client.py)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: FastAPI, Selenium, Supabase (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è, –ø—Ä–æ—Å—Ç–∞—è

### `unified-backend/` ‚Äî –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –±—ç–∫–µ–Ω–¥
- **–†–∞–∑–º–µ—Ä**: –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (routes/, services/, core/, migrations/)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: FastAPI, Playwright, asyncpg, PostgreSQL –Ω–∞–ø—Ä—è–º—É—é
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ú–æ–¥—É–ª—å–Ω–∞—è, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è

---

## üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Kaspi

#### `newnew/kaspi_auth.py` (Selenium)
```python
‚úÖ –ü–ª—é—Å—ã:
- –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ü–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥
- –õ–µ–≥–∫–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å (–≤–∏–∑—É–∞–ª—å–Ω–æ –≤–∏–¥–Ω–æ –ø—Ä–æ—Ü–µ—Å—Å)

‚ùå –ú–∏–Ω—É—Å—ã:
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (Selenium —Ç—è–∂–µ–ª–µ–µ)
- –ë–æ–ª—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ú–µ–Ω–µ–µ —Å—Ç–∞–±–∏–ª–µ–Ω –≤ headless —Ä–µ–∂–∏–º–µ
- –¢—Ä–µ–±—É–µ—Ç ChromeDriver
```

#### `unified-backend/api_parser.py` (Playwright)
```python
‚úÖ –ü–ª—é—Å—ã:
- –ë—ã—Å—Ç—Ä–µ–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ
- –õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ headless
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SMS-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- SessionManager –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏

‚ùå –ú–∏–Ω—É—Å—ã:
- –°–ª–æ–∂–Ω–µ–µ –≤ –æ—Å–≤–æ–µ–Ω–∏–∏
- –ë–æ–ª—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

**–í—ã–≤–æ–¥**: `unified-backend` –ª—É—á—à–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞, `newnew` –ø—Ä–æ—â–µ –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤.

---

### 2. –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

#### `newnew/` ‚Äî Supabase –∫–ª–∏–µ–Ω—Ç (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
```python
# –ü—Ä–æ—Å—Ç–æ–π –ø–æ–¥—Ö–æ–¥
supabase.table("kaspi_stores").select("*").eq("user_id", user_id).execute()
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚ùå –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–±–ª–æ–∫–∏—Ä—É—é—Ç event loop)
- ‚ùå –ú–µ–Ω—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Supabase API

#### `unified-backend/` ‚Äî asyncpg + PostgreSQL
```python
# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–æ–¥—Ö–æ–¥
pool = await create_pool()
async with pool.acquire() as conn:
    rows = await conn.fetch("SELECT * FROM kaspi_stores WHERE user_id = $1", user_id)
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç)
- ‚úÖ –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- ‚úÖ –ü—Ä—è–º–æ–π SQL (–±–æ–ª—å—à–µ –≥–∏–±–∫–æ—Å—Ç–∏)
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á

**–í—ã–≤–æ–¥**: `unified-backend` –ª—É—á—à–µ –¥–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, `newnew` –ø—Ä–æ—â–µ –¥–ª—è MVP.

---

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

#### `newnew/` ‚Äî –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```python
# –°–µ—Å—Å–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ accounts.json (–ª–æ–∫–∞–ª—å–Ω–æ)
# –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–π
# –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
```

#### `unified-backend/` ‚Äî SessionManager
```python
class SessionManager:
    async def load(self)  # –ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Å—Å–∏–∏ –∏–∑ –ë–î
    def is_session_valid(self)  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏
    async def reauthorize(self)  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
    def get_cookies(self)  # –ü–æ–ª—É—á–µ–Ω–∏–µ cookies
```

**–í—ã–≤–æ–¥**: `unified-backend` –∏–º–µ–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏.

---

### 4. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

#### `newnew/` ‚Äî –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Kaspi (email/password)
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–æ–≤
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–∑–∞–≥–ª—É—à–∫–∞)

#### `unified-backend/` ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Kaspi (email/password + SMS)
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–æ–≤
- ‚úÖ –†–µ–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ SKU
- ‚úÖ –î–µ–º–ø–µ—Ä —Ü–µ–Ω (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ —Ü–µ–Ω)
- ‚úÖ –ü—Ä–µ–¥–∑–∞–∫–∞–∑—ã (preorders)
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ XLSX
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –æ—Ç–∑—ã–≤–æ–≤
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂
- ‚úÖ Proxy –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (ErrorHandler)

**–í—ã–≤–æ–¥**: `unified-backend` –∏–º–µ–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

---

### 5. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

#### `newnew/` ‚Äî –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è
```
newnew/
‚îú‚îÄ‚îÄ main.py          # –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
‚îú‚îÄ‚îÄ kaspi_auth.py    # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îî‚îÄ‚îÄ supabase_client.py  # –ö–ª–∏–µ–Ω—Ç –ë–î
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞
- ‚úÖ –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –∫–æ–¥
- ‚ùå –°–ª–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å
- ‚ùå –í—Å–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

#### `unified-backend/` ‚Äî –ú–æ–¥—É–ª—å–Ω–∞—è
```
unified-backend/
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ routes/              # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–æ –º–æ–¥—É–ª—è–º
‚îÇ   ‚îú‚îÄ‚îÄ kaspi.py
‚îÇ   ‚îú‚îÄ‚îÄ products.py
‚îÇ   ‚îî‚îÄ‚îÄ admin.py
‚îú‚îÄ‚îÄ services/            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ core/                # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ api_parser.py        # –ü–∞—Ä—Å–∏–Ω–≥ Kaspi
‚îî‚îÄ‚îÄ db.py                # –†–∞–±–æ—Ç–∞ —Å –ë–î
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚ùå –ë–æ–ª—å—à–µ —Ñ–∞–π–ª–æ–≤

**–í—ã–≤–æ–¥**: `unified-backend` –ª—É—á—à–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

---

### 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### `newnew/` ‚Äî –ë–∞–∑–æ–≤–∞—è
```python
try:
    # –∫–æ–¥
except Exception as e:
    logger.error(f"–û—à–∏–±–∫–∞: {e}")
    raise HTTPException(status_code=500, detail="–û—à–∏–±–∫–∞")
```

#### `unified-backend/` ‚Äî –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è
```python
class ErrorHandler:
    async def handle_login_error(self)
    async def handle_all_errors(self, error)
    # –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
```

**–í—ã–≤–æ–¥**: `unified-backend` –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.

---

### 7. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### `newnew/`
```python
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)
```

#### `unified-backend/`
```python
# –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏
# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —à—É–º–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
# –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏
```

**–í—ã–≤–æ–¥**: –û–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–æ `unified-backend` –±–æ–ª–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω.

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

| –ö—Ä–∏—Ç–µ—Ä–∏–π | `newnew/` | `unified-backend/` | –ü–æ–±–µ–¥–∏—Ç–µ–ª—å |
|----------|-----------|-------------------|------------|
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | `newnew` |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | `unified-backend` |
| **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | `unified-backend` |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | `unified-backend` |
| **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | `unified-backend` |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | `unified-backend` |
| **–°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | `newnew` |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `newnew/` –µ—Å–ª–∏:
- ‚úÖ –ù—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∑–∞–¥–∞—á–∞ (—Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è + CRUD)
- ‚úÖ –ù–µ–±–æ–ª—å—à–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ –Ω–µ–æ–ø—ã—Ç–Ω–∞—è –≤ async/await

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `unified-backend/` –µ—Å–ª–∏:
- ‚úÖ –ü—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –ù—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–¥–µ–º–ø–µ—Ä, –ø—Ä–µ–¥–∑–∞–∫–∞–∑—ã, –ø–∞—Ä—Å–∏–Ω–≥)
- ‚úÖ –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ –ù—É–∂–Ω–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å

---

## üîÑ –ß—Ç–æ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏–∑ `newnew/` –≤ `unified-backend/`

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞** ‚Äî –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–∏ `newnew` –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã
2. **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Supabase** ‚Äî –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–æ–±–Ω–µ–µ
3. **–ú–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** ‚Äî –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–¥–∞—á

---

## üîÑ –ß—Ç–æ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏–∑ `unified-backend/` –≤ `newnew/`

1. **SessionManager** ‚Äî –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏
2. **Playwright –≤–º–µ—Å—Ç–æ Selenium** ‚Äî –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚Äî –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî ErrorHandler –∫–ª–∞—Å—Å
5. **SMS-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –≤—Ö–æ–¥–∞

---

## üí° –í—ã–≤–æ–¥

**`unified-backend/` ‚Äî –ª—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** –±–ª–∞–≥–æ–¥–∞—Ä—è:
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º (Playwright, asyncpg)
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–º—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É
- –ú–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- –õ—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ù–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

**`newnew/` ‚Äî —Ö–æ—Ä–æ—à –¥–ª—è**:
- –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á
- –û–±—É—á–µ–Ω–∏—è
- –ë—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–û–±–∞ –±—ç–∫–µ–Ω–¥–∞ –∏–º–µ—é—Ç —Å–≤–æ–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞. `unified-backend` ‚Äî —ç—Ç–æ —ç–≤–æ–ª—é—Ü–∏—è `newnew` —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –ª—É—á—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `unified-backend`, –Ω–æ –º–æ–∂–Ω–æ –ø–æ–∑–∞–∏–º—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ—Ç—É –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ä–µ—à–µ–Ω–∏–π –∏–∑ `newnew`.

